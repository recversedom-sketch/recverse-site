---
const nav = [
  { href: "/", label: "Start" },
  { href: "/services", label: "Leistungen" },
  { href: "/shop", label: "RecVerseShop" },
  { href: "/contact", label: "Kontakt" },
];
---

<style>
  .nav {
    position: sticky;
    top: 0;
    z-index: 50;
    backdrop-filter: blur(14px);
    background: rgba(5, 7, 12, 0.65);
    border-bottom: 1px solid rgba(255,255,255,0.08);
  }
  .row {
    height: 70px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 14px;
  }
  .brand {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    font-weight: 700;
    letter-spacing: -0.02em;
    font-family: "Space Grotesk", Inter, system-ui;
  }
  .mark {
    width: 34px;
    height: 34px;
    border-radius: 12px;
    border: 1px solid rgba(0,185,255,0.35);
    background: radial-gradient(120% 160% at 30% 15%, rgba(0,185,255,0.35), rgba(0,119,255,0.18) 55%, rgba(255,255,255,0.04));
    box-shadow: 0 18px 60px rgba(0,185,255,0.12);
  }

  .links {
    display: flex;
    align-items: center;
    gap: 18px;
    padding: 8px 10px;
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 999px;
    background: rgba(255,255,255,0.02);
  }
  .links a {
    font-size: 13px;
    color: rgba(255,255,255,0.74);
    padding: 8px 10px;
    border-radius: 999px;
    transition: background 180ms ease, color 180ms ease;
  }
  .links a:hover {
    color: rgba(255,255,255,0.92);
    background: rgba(255,255,255,0.05);
  }

  .right {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .burger {
    display: none;
    width: 42px;
    height: 42px;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,0.10);
    background: rgba(255,255,255,0.03);
    color: rgba(255,255,255,0.9);
    cursor: pointer;
  }

  .mobile {
    display: none;
    border-top: 1px solid rgba(255,255,255,0.08);
    background: rgba(5, 7, 12, 0.85);
    backdrop-filter: blur(14px);
  }
  .mobile-inner {
    padding: 14px 0 18px 0;
    display: grid;
    gap: 10px;
  }
  .mobile a {
    padding: 12px 14px;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,0.08);
    background: rgba(255,255,255,0.02);
    color: rgba(255,255,255,0.85);
  }

  @media (max-width: 860px) {
    .links { display: none; }
    .burger { display: inline-flex; align-items: center; justify-content: center; }
    .mobile[data-open="true"] { display: block; }
  }
</style>

<header class="nav">
  <div class="container">
    <div class="row">
      <a class="brand" href="/" aria-label="Recverse Home">
        <span class="mark" aria-hidden="true"></span>
        <span>Recverse</span>
      </a>

      <nav class="links" aria-label="Primary">
        {nav.map((n) => <a href={n.href}>{n.label}</a>)}
      </nav>

      <div class="right">
        <a class="btn btn-primary" href="/contact">Brainstorming starten</a>

        <button class="burger" type="button" aria-expanded="false" aria-controls="mobileNav" data-burger>
          <span aria-hidden="true">â˜°</span>
        </button>
      </div>
    </div>

    <nav id="mobileNav" class="mobile" data-open="false" aria-label="Mobile">
      <div class="mobile-inner">
        {nav.map((n) => <a href={n.href}>{n.label}</a>)}
        <a class="btn btn-primary" href="/contact">Brainstorming starten</a>
      </div>
    </nav>
  </div>
</header>

<script is:inline>
  const btn = document.querySelector("[data-burger]");
  const mobile = document.getElementById("mobileNav");
  if (btn && mobile) {
    btn.addEventListener("click", () => {
      const open = mobile.getAttribute("data-open") === "true";
      mobile.setAttribute("data-open", String(!open));
      btn.setAttribute("aria-expanded", String(!open));
    });
  }
</script>
